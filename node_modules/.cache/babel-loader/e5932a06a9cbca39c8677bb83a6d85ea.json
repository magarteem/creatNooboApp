{"ast":null,"code":"import React from 'react';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\nvar tinyDebounce = function debounce(fn, delay) {\n  var timeoutID = null;\n  return function () {\n    clearTimeout(timeoutID);\n    var args = arguments;\n    var that = this;\n    timeoutID = setTimeout(function () {\n      fn.apply(that, args);\n    }, delay);\n  };\n};\n/**\n * Has own property.\n *\n * @type {Function}\n */\n\n\nvar has = Object.prototype.hasOwnProperty;\n/**\n * To string.\n *\n * @type {Function}\n */\n\nvar toString = Object.prototype.toString;\n/**\n * Test whether a value is \"empty\".\n *\n * @param {Mixed} val\n * @return {Boolean}\n */\n\nfunction isEmpty(val) {\n  // Null and Undefined...\n  if (val == null) return true; // Booleans...\n\n  if ('boolean' == typeof val) return false; // Numbers...\n\n  if ('number' == typeof val) return val === 0; // Strings...\n\n  if ('string' == typeof val) return val.length === 0; // Functions...\n\n  if ('function' == typeof val) return val.length === 0; // Arrays...\n\n  if (Array.isArray(val)) return val.length === 0; // Errors...\n\n  if (val instanceof Error) return val.message === ''; // Objects...\n\n  if (val.toString == toString) {\n    switch (val.toString()) {\n      // Maps, Sets, Files and Errors...\n      case '[object File]':\n      case '[object Map]':\n      case '[object Set]':\n        {\n          return val.size === 0;\n        }\n      // Plain objects...\n\n      case '[object Object]':\n        {\n          for (var key in val) {\n            if (has.call(val, key)) return false;\n          }\n\n          return true;\n        }\n    }\n  } // Anything else...\n\n\n  return false;\n}\n/**\n * Export `isEmpty`.\n *\n * @type {Function}\n */\n\n\nvar lib = isEmpty; //\n// Main\n//\n\nfunction memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  });\n} //\n// Strategy\n//\n\n\nfunction isPrimitive(value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n\n  return computedValue;\n}\n\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n\n  return computedValue;\n}\n\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\n\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\n\nfunction strategyVariadic(fn, options) {\n  var strategy = variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\n\nfunction strategyMonadic(fn, options) {\n  var strategy = monadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n} //\n// Serializer\n//\n\n\nfunction serializerDefault() {\n  return JSON.stringify(arguments);\n} //\n// Cache\n//\n\n\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = Object.create(null);\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return key in this.cache;\n};\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key];\n};\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value;\n};\n\nvar cacheDefault = {\n  create: function create() {\n    return new ObjectWithoutPrototypeCache();\n  }\n}; //\n// API\n//\n\nvar src = memoize;\nvar strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n};\nsrc.strategies = strategies;\n\nvar validateData = function validateData(data) {\n  return !!data && !lib(data);\n};\n\nvar getValidatedData = function getValidatedData(data) {\n  return validateData(data) ? data : [];\n};\n\nvar walk = function walk(_a) {\n  var data = _a.data,\n      props = __rest(_a, [\"data\"]);\n\n  var validatedData = getValidatedData(data);\n\n  var propsWithDefaultValues = __assign({\n    parent: '',\n    level: 0\n  }, props);\n\n  var handleArray = function handleArray(dataAsArray) {\n    return dataAsArray.reduce(function (all, node, index) {\n      var branchProps = __assign({\n        node: node,\n        index: index,\n        nodeName: node.key\n      }, propsWithDefaultValues);\n\n      var branch = generateBranch(branchProps);\n      return __spreadArrays(all, branch);\n    }, []);\n  };\n\n  var handleObject = function handleObject(dataAsObject) {\n    return Object.entries(dataAsObject).sort(function (a, b) {\n      return a[1].index - b[1].index;\n    }) // sorted by index\n    .reduce(function (all, _a) {\n      var nodeName = _a[0],\n          node = _a[1];\n\n      var branchProps = __assign({\n        node: node,\n        nodeName: nodeName\n      }, propsWithDefaultValues);\n\n      var branch = generateBranch(branchProps);\n      return __spreadArrays(all, branch);\n    }, []);\n  };\n\n  return Array.isArray(validatedData) ? handleArray(validatedData) : handleObject(validatedData);\n};\n\nvar defaultMatchSearch = function defaultMatchSearch(_a) {\n  var label = _a.label,\n      searchTerm = _a.searchTerm;\n\n  var processString = function processString(text) {\n    return text.trim().toLowerCase();\n  };\n\n  return processString(label).includes(processString(searchTerm));\n};\n\nvar defaultLocale = function defaultLocale(_a) {\n  var label = _a.label;\n  return label;\n};\n\nvar generateBranch = function generateBranch(_a) {\n  var node = _a.node,\n      nodeName = _a.nodeName,\n      _b = _a.matchSearch,\n      matchSearch = _b === void 0 ? defaultMatchSearch : _b,\n      _c = _a.locale,\n      locale = _c === void 0 ? defaultLocale : _c,\n      props = __rest(_a, [\"node\", \"nodeName\", \"matchSearch\", \"locale\"]);\n\n  var parent = props.parent,\n      level = props.level,\n      openNodes = props.openNodes,\n      searchTerm = props.searchTerm;\n\n  var nodes = node.nodes,\n      _d = node.label,\n      rawLabel = _d === void 0 ? 'unknown' : _d,\n      nodeProps = __rest(node, [\"nodes\", \"label\"]);\n\n  var key = [parent, nodeName].filter(function (x) {\n    return x;\n  }).join('/');\n  var hasNodes = validateData(nodes);\n  var isOpen = hasNodes && (openNodes.includes(key) || !!searchTerm);\n  var label = locale(__assign({\n    label: rawLabel\n  }, nodeProps));\n  var isVisible = !searchTerm || matchSearch(__assign({\n    label: label,\n    searchTerm: searchTerm\n  }, nodeProps));\n\n  var currentItem = __assign(__assign(__assign({}, props), nodeProps), {\n    label: label,\n    hasNodes: hasNodes,\n    isOpen: isOpen,\n    key: key\n  });\n\n  var data = getValidatedData(nodes);\n  var nextLevelItems = isOpen ? walk(__assign(__assign({\n    data: data,\n    locale: locale,\n    matchSearch: matchSearch\n  }, props), {\n    parent: key,\n    level: level + 1\n  })) : [];\n  return isVisible ? __spreadArrays([currentItem], nextLevelItems) : nextLevelItems;\n};\n\nvar walk$1 = src(walk);\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar classnames = createCommonjsModule(function (module) {\n  /*!\n    Copyright (c) 2017 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n  (function () {\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg) && arg.length) {\n          var inner = classNames.apply(null, arg);\n\n          if (inner) {\n            classes.push(inner);\n          }\n        } else if (argType === 'object') {\n          for (var key in arg) {\n            if (hasOwn.call(arg, key) && arg[key]) {\n              classes.push(key);\n            }\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if (module.exports) {\n      classNames.default = classNames;\n      module.exports = classNames;\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n});\nvar DEFAULT_PADDING = 0.75;\nvar ICON_SIZE = 2;\nvar LEVEL_SPACE = 1.75;\n\nvar ToggleIcon = function ToggleIcon(_a) {\n  var on = _a.on,\n      openedIcon = _a.openedIcon,\n      closedIcon = _a.closedIcon;\n  return React.createElement(\"div\", {\n    role: \"img\",\n    \"aria-label\": \"Toggle\",\n    className: \"rstm-toggle-icon-symbol\"\n  }, on ? openedIcon : closedIcon);\n};\n\nvar ItemComponent = function ItemComponent(_a) {\n  var _b = _a.hasNodes,\n      hasNodes = _b === void 0 ? false : _b,\n      _c = _a.isOpen,\n      isOpen = _c === void 0 ? false : _c,\n      _d = _a.level,\n      level = _d === void 0 ? 0 : _d,\n      onClick = _a.onClick,\n      toggleNode = _a.toggleNode,\n      active = _a.active,\n      focused = _a.focused,\n      _e = _a.openedIcon,\n      openedIcon = _e === void 0 ? '-' : _e,\n      _f = _a.closedIcon,\n      closedIcon = _f === void 0 ? '+' : _f,\n      _g = _a.label,\n      label = _g === void 0 ? 'unknown' : _g,\n      _h = _a.style,\n      style = _h === void 0 ? {} : _h;\n  return React.createElement(\"li\", {\n    className: classnames('rstm-tree-item', \"rstm-tree-item-level\" + level, {\n      'rstm-tree-item--active': active\n    }, {\n      'rstm-tree-item--focused': focused\n    }),\n    style: __assign({\n      paddingLeft: DEFAULT_PADDING + ICON_SIZE * (hasNodes ? 0 : 1) + level * LEVEL_SPACE + \"rem\"\n    }, style),\n    role: \"button\",\n    \"aria-pressed\": active,\n    onClick: onClick\n  }, hasNodes && React.createElement(\"div\", {\n    className: \"rstm-toggle-icon\",\n    onClick: function onClick(e) {\n      hasNodes && toggleNode && toggleNode();\n      e.stopPropagation();\n    }\n  }, React.createElement(ToggleIcon, {\n    on: isOpen,\n    openedIcon: openedIcon,\n    closedIcon: closedIcon\n  })), label);\n};\n\nvar defaultChildren = function defaultChildren(_a) {\n  var search = _a.search,\n      items = _a.items;\n\n  var onSearch = function onSearch(e) {\n    var value = e.target.value;\n    search && search(value);\n  };\n\n  return React.createElement(React.Fragment, null, search && React.createElement(\"input\", {\n    className: \"rstm-search\",\n    \"aria-label\": \"Type and search\",\n    type: \"search\",\n    placeholder: \"Type and search\",\n    onChange: onSearch\n  }), React.createElement(\"ul\", {\n    className: \"rstm-tree-item-group\"\n  }, items.map(function (_a) {\n    var key = _a.key,\n        props = __rest(_a, [\"key\"]);\n\n    return React.createElement(ItemComponent, __assign({\n      key: key\n    }, props));\n  })));\n};\n\nvar KeyDown = function KeyDown(_a) {\n  var children = _a.children,\n      up = _a.up,\n      down = _a.down,\n      left = _a.left,\n      right = _a.right,\n      enter = _a.enter;\n  return React.createElement(\"div\", {\n    tabIndex: 0,\n    onKeyDown: function onKeyDown(e) {\n      switch (e.key) {\n        case 'ArrowUp':\n          {\n            up();\n            break;\n          }\n\n        case 'ArrowDown':\n          {\n            down();\n            break;\n          }\n\n        case 'ArrowLeft':\n          {\n            left();\n            break;\n          }\n\n        case 'ArrowRight':\n          {\n            right();\n            break;\n          }\n\n        case 'Enter':\n          {\n            enter();\n            break;\n          }\n      }\n    }\n  }, children);\n};\n\nvar defaultOnClick = function defaultOnClick(props) {\n  return console.log(props);\n}; // eslint-disable-line no-console\n\n\nvar TreeMenu =\n/** @class */\nfunction (_super) {\n  __extends(TreeMenu, _super);\n\n  function TreeMenu() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      openNodes: _this.props.initialOpenNodes || [],\n      searchTerm: '',\n      activeKey: _this.props.initialActiveKey || '',\n      focusKey: _this.props.initialFocusKey || ''\n    };\n\n    _this.resetOpenNodes = function (newOpenNodes, activeKey, focusKey) {\n      var initialOpenNodes = _this.props.initialOpenNodes;\n      var openNodes = Array.isArray(newOpenNodes) && newOpenNodes || initialOpenNodes || [];\n\n      _this.setState({\n        openNodes: openNodes,\n        searchTerm: '',\n        activeKey: activeKey || '',\n        focusKey: focusKey || activeKey || ''\n      });\n    };\n\n    _this.search = function (value) {\n      var debounceTime = _this.props.debounceTime;\n      var search = tinyDebounce(function (searchTerm) {\n        return _this.setState({\n          searchTerm: searchTerm\n        });\n      }, debounceTime);\n      search(value);\n    };\n\n    _this.toggleNode = function (node) {\n      if (!_this.props.openNodes) {\n        var openNodes = _this.state.openNodes;\n        var newOpenNodes = openNodes.includes(node) ? openNodes.filter(function (openNode) {\n          return openNode !== node;\n        }) : __spreadArrays(openNodes, [node]);\n\n        _this.setState({\n          openNodes: newOpenNodes\n        });\n      }\n    };\n\n    _this.generateItems = function () {\n      var _a = _this.props,\n          data = _a.data,\n          onClickItem = _a.onClickItem,\n          locale = _a.locale,\n          matchSearch = _a.matchSearch;\n      var searchTerm = _this.state.searchTerm;\n      var openNodes = _this.props.openNodes || _this.state.openNodes;\n      var activeKey = _this.props.activeKey || _this.state.activeKey;\n      var focusKey = _this.props.focusKey || _this.state.focusKey;\n      var items = data ? walk$1({\n        data: data,\n        openNodes: openNodes,\n        searchTerm: searchTerm,\n        locale: locale,\n        matchSearch: matchSearch\n      }) : [];\n      return items.map(function (item) {\n        var focused = item.key === focusKey;\n        var active = item.key === activeKey;\n\n        var onClick = function onClick() {\n          var newActiveKey = _this.props.activeKey || item.key;\n\n          _this.setState({\n            activeKey: newActiveKey,\n            focusKey: newActiveKey\n          });\n\n          onClickItem && onClickItem(item);\n        };\n\n        var toggleNode = item.hasNodes ? function () {\n          return _this.toggleNode(item.key);\n        } : undefined;\n        return __assign(__assign({}, item), {\n          focused: focused,\n          active: active,\n          onClick: onClick,\n          toggleNode: toggleNode\n        });\n      });\n    };\n\n    _this.getKeyDownProps = function (items) {\n      var onClickItem = _this.props.onClickItem;\n      var _a = _this.state,\n          focusKey = _a.focusKey,\n          activeKey = _a.activeKey,\n          searchTerm = _a.searchTerm;\n      var focusIndex = items.findIndex(function (item) {\n        return item.key === (focusKey || activeKey);\n      });\n\n      var getFocusKey = function getFocusKey(item) {\n        var keyArray = item.key.split('/');\n        return keyArray.length > 1 ? keyArray.slice(0, keyArray.length - 1).join('/') : item.key;\n      };\n\n      return {\n        up: function up() {\n          _this.setState(function (_a) {\n            var focusKey = _a.focusKey;\n            return {\n              focusKey: focusIndex > 0 ? items[focusIndex - 1].key : focusKey\n            };\n          });\n        },\n        down: function down() {\n          _this.setState(function (_a) {\n            var focusKey = _a.focusKey;\n            return {\n              focusKey: focusIndex < items.length - 1 ? items[focusIndex + 1].key : focusKey\n            };\n          });\n        },\n        left: function left() {\n          var item = items[focusIndex];\n\n          if (item) {\n            _this.setState(function (_a) {\n              var openNodes = _a.openNodes,\n                  rest = __rest(_a, [\"openNodes\"]);\n\n              var newOpenNodes = openNodes.filter(function (node) {\n                return node !== item.key;\n              });\n              return item.isOpen ? __assign(__assign({}, rest), {\n                openNodes: newOpenNodes,\n                focusKey: item.key\n              }) : __assign(__assign({}, rest), {\n                focusKey: getFocusKey(item)\n              });\n            });\n          }\n        },\n        right: function right() {\n          var _a = items[focusIndex],\n              hasNodes = _a.hasNodes,\n              key = _a.key;\n          if (hasNodes) _this.setState(function (_a) {\n            var openNodes = _a.openNodes;\n            return {\n              openNodes: __spreadArrays(openNodes, [key])\n            };\n          });\n        },\n        enter: function enter() {\n          _this.setState(function (_a) {\n            var focusKey = _a.focusKey;\n            return {\n              activeKey: focusKey\n            };\n          });\n\n          onClickItem && onClickItem(items[focusIndex]);\n        }\n      };\n    };\n\n    return _this;\n  }\n\n  TreeMenu.prototype.componentDidUpdate = function (prevProps) {\n    var _a = this.props,\n        data = _a.data,\n        initialOpenNodes = _a.initialOpenNodes,\n        resetOpenNodesOnDataUpdate = _a.resetOpenNodesOnDataUpdate;\n\n    if (prevProps.data !== data && resetOpenNodesOnDataUpdate && initialOpenNodes) {\n      this.setState({\n        openNodes: initialOpenNodes\n      });\n    }\n  };\n\n  TreeMenu.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        hasSearch = _a.hasSearch,\n        disableKeyboard = _a.disableKeyboard;\n    var searchTerm = this.state.searchTerm;\n    var search = this.search;\n    var items = this.generateItems();\n    var resetOpenNodes = this.resetOpenNodes;\n    var render = children || defaultChildren;\n    var renderProps = hasSearch ? {\n      search: search,\n      resetOpenNodes: resetOpenNodes,\n      items: items,\n      searchTerm: searchTerm\n    } : {\n      items: items,\n      resetOpenNodes: resetOpenNodes\n    };\n    return disableKeyboard ? render(renderProps) : React.createElement(KeyDown, __assign({}, this.getKeyDownProps(items)), render(renderProps));\n  };\n\n  TreeMenu.defaultProps = {\n    data: {},\n    onClickItem: defaultOnClick,\n    debounceTime: 125,\n    children: defaultChildren,\n    hasSearch: true,\n    resetOpenNodesOnDataUpdate: false,\n    disableKeyboard: false\n  };\n  return TreeMenu;\n}(React.Component);\n\nexport default TreeMenu;\nexport { ItemComponent, KeyDown, defaultChildren };","map":{"version":3,"sources":["D:/А_р_т_ё_м/JS REACT HTML CSS C#/REACT/project_2020_02_22/app_2020_02_22/node_modules/react-simple-tree-menu/dist/main.esm.js"],"names":["React","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","r","k","a","j","jl","tinyDebounce","debounce","fn","delay","timeoutID","clearTimeout","args","that","setTimeout","has","toString","isEmpty","val","isArray","Error","message","size","key","lib","memoize","options","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","value","monadic","arg","cacheKey","computedValue","get","set","variadic","slice","assemble","context","serialize","bind","strategyVariadic","strategyMonadic","JSON","stringify","ObjectWithoutPrototypeCache","src","strategies","validateData","data","getValidatedData","walk","_a","props","validatedData","propsWithDefaultValues","parent","level","handleArray","dataAsArray","reduce","all","node","index","branchProps","nodeName","branch","generateBranch","handleObject","dataAsObject","entries","sort","defaultMatchSearch","label","searchTerm","processString","text","trim","toLowerCase","includes","defaultLocale","_b","matchSearch","_c","locale","openNodes","nodes","_d","rawLabel","nodeProps","filter","x","join","hasNodes","isOpen","isVisible","currentItem","nextLevelItems","walk$1","createCommonjsModule","module","exports","classnames","hasOwn","classNames","classes","argType","push","inner","default","window","DEFAULT_PADDING","ICON_SIZE","LEVEL_SPACE","ToggleIcon","on","openedIcon","closedIcon","createElement","role","className","ItemComponent","onClick","toggleNode","active","focused","_e","_f","_g","_h","style","paddingLeft","stopPropagation","defaultChildren","search","items","onSearch","target","Fragment","type","placeholder","onChange","map","KeyDown","children","up","down","left","right","enter","tabIndex","onKeyDown","defaultOnClick","console","log","TreeMenu","_super","_this","state","initialOpenNodes","activeKey","initialActiveKey","focusKey","initialFocusKey","resetOpenNodes","newOpenNodes","setState","debounceTime","openNode","generateItems","onClickItem","item","newActiveKey","undefined","getKeyDownProps","focusIndex","findIndex","getFocusKey","keyArray","split","rest","componentDidUpdate","prevProps","resetOpenNodesOnDataUpdate","render","hasSearch","disableKeyboard","renderProps","defaultProps","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar tinyDebounce = function debounce (fn, delay) {\n  var timeoutID = null;\n  return function () {\n    clearTimeout(timeoutID);\n    var args = arguments;\n    var that = this;\n    timeoutID = setTimeout(function () {\n      fn.apply(that, args);\n    }, delay);\n  }\n};\n\n/**\n * Has own property.\n *\n * @type {Function}\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * To string.\n *\n * @type {Function}\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Test whether a value is \"empty\".\n *\n * @param {Mixed} val\n * @return {Boolean}\n */\n\nfunction isEmpty(val) {\n  // Null and Undefined...\n  if (val == null) return true\n\n  // Booleans...\n  if ('boolean' == typeof val) return false\n\n  // Numbers...\n  if ('number' == typeof val) return val === 0\n\n  // Strings...\n  if ('string' == typeof val) return val.length === 0\n\n  // Functions...\n  if ('function' == typeof val) return val.length === 0\n\n  // Arrays...\n  if (Array.isArray(val)) return val.length === 0\n\n  // Errors...\n  if (val instanceof Error) return val.message === ''\n\n  // Objects...\n  if (val.toString == toString) {\n    switch (val.toString()) {\n\n      // Maps, Sets, Files and Errors...\n      case '[object File]':\n      case '[object Map]':\n      case '[object Set]': {\n        return val.size === 0\n      }\n\n      // Plain objects...\n      case '[object Object]': {\n        for (var key in val) {\n          if (has.call(val, key)) return false\n        }\n\n        return true\n      }\n    }\n  }\n\n  // Anything else...\n  return false\n}\n\n/**\n * Export `isEmpty`.\n *\n * @type {Function}\n */\n\nvar lib = isEmpty;\n\n//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault;\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault;\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault;\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic;\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic;\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null);\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n};\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n};\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value;\n};\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n};\n\n//\n// API\n//\n\nvar src = memoize;\nvar strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n};\nsrc.strategies = strategies;\n\nvar validateData = function validateData(data) {\n  return !!data && !lib(data);\n};\n\nvar getValidatedData = function getValidatedData(data) {\n  return validateData(data) ? data : [];\n};\n\nvar walk = function walk(_a) {\n  var data = _a.data,\n      props = __rest(_a, [\"data\"]);\n\n  var validatedData = getValidatedData(data);\n\n  var propsWithDefaultValues = __assign({\n    parent: '',\n    level: 0\n  }, props);\n\n  var handleArray = function handleArray(dataAsArray) {\n    return dataAsArray.reduce(function (all, node, index) {\n      var branchProps = __assign({\n        node: node,\n        index: index,\n        nodeName: node.key\n      }, propsWithDefaultValues);\n\n      var branch = generateBranch(branchProps);\n      return __spreadArrays(all, branch);\n    }, []);\n  };\n\n  var handleObject = function handleObject(dataAsObject) {\n    return Object.entries(dataAsObject).sort(function (a, b) {\n      return a[1].index - b[1].index;\n    }) // sorted by index\n    .reduce(function (all, _a) {\n      var nodeName = _a[0],\n          node = _a[1];\n\n      var branchProps = __assign({\n        node: node,\n        nodeName: nodeName\n      }, propsWithDefaultValues);\n\n      var branch = generateBranch(branchProps);\n      return __spreadArrays(all, branch);\n    }, []);\n  };\n\n  return Array.isArray(validatedData) ? handleArray(validatedData) : handleObject(validatedData);\n};\n\nvar defaultMatchSearch = function defaultMatchSearch(_a) {\n  var label = _a.label,\n      searchTerm = _a.searchTerm;\n\n  var processString = function processString(text) {\n    return text.trim().toLowerCase();\n  };\n\n  return processString(label).includes(processString(searchTerm));\n};\n\nvar defaultLocale = function defaultLocale(_a) {\n  var label = _a.label;\n  return label;\n};\n\nvar generateBranch = function generateBranch(_a) {\n  var node = _a.node,\n      nodeName = _a.nodeName,\n      _b = _a.matchSearch,\n      matchSearch = _b === void 0 ? defaultMatchSearch : _b,\n      _c = _a.locale,\n      locale = _c === void 0 ? defaultLocale : _c,\n      props = __rest(_a, [\"node\", \"nodeName\", \"matchSearch\", \"locale\"]);\n\n  var parent = props.parent,\n      level = props.level,\n      openNodes = props.openNodes,\n      searchTerm = props.searchTerm;\n\n  var nodes = node.nodes,\n      _d = node.label,\n      rawLabel = _d === void 0 ? 'unknown' : _d,\n      nodeProps = __rest(node, [\"nodes\", \"label\"]);\n\n  var key = [parent, nodeName].filter(function (x) {\n    return x;\n  }).join('/');\n  var hasNodes = validateData(nodes);\n  var isOpen = hasNodes && (openNodes.includes(key) || !!searchTerm);\n  var label = locale(__assign({\n    label: rawLabel\n  }, nodeProps));\n  var isVisible = !searchTerm || matchSearch(__assign({\n    label: label,\n    searchTerm: searchTerm\n  }, nodeProps));\n\n  var currentItem = __assign(__assign(__assign({}, props), nodeProps), {\n    label: label,\n    hasNodes: hasNodes,\n    isOpen: isOpen,\n    key: key\n  });\n\n  var data = getValidatedData(nodes);\n  var nextLevelItems = isOpen ? walk(__assign(__assign({\n    data: data,\n    locale: locale,\n    matchSearch: matchSearch\n  }, props), {\n    parent: key,\n    level: level + 1\n  })) : [];\n  return isVisible ? __spreadArrays([currentItem], nextLevelItems) : nextLevelItems;\n};\n\nvar walk$1 = src(walk);\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar classnames = createCommonjsModule(function (module) {\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n});\n\nvar DEFAULT_PADDING = 0.75;\nvar ICON_SIZE = 2;\nvar LEVEL_SPACE = 1.75;\n\nvar ToggleIcon = function ToggleIcon(_a) {\n  var on = _a.on,\n      openedIcon = _a.openedIcon,\n      closedIcon = _a.closedIcon;\n  return React.createElement(\"div\", {\n    role: \"img\",\n    \"aria-label\": \"Toggle\",\n    className: \"rstm-toggle-icon-symbol\"\n  }, on ? openedIcon : closedIcon);\n};\n\nvar ItemComponent = function ItemComponent(_a) {\n  var _b = _a.hasNodes,\n      hasNodes = _b === void 0 ? false : _b,\n      _c = _a.isOpen,\n      isOpen = _c === void 0 ? false : _c,\n      _d = _a.level,\n      level = _d === void 0 ? 0 : _d,\n      onClick = _a.onClick,\n      toggleNode = _a.toggleNode,\n      active = _a.active,\n      focused = _a.focused,\n      _e = _a.openedIcon,\n      openedIcon = _e === void 0 ? '-' : _e,\n      _f = _a.closedIcon,\n      closedIcon = _f === void 0 ? '+' : _f,\n      _g = _a.label,\n      label = _g === void 0 ? 'unknown' : _g,\n      _h = _a.style,\n      style = _h === void 0 ? {} : _h;\n  return React.createElement(\"li\", {\n    className: classnames('rstm-tree-item', \"rstm-tree-item-level\" + level, {\n      'rstm-tree-item--active': active\n    }, {\n      'rstm-tree-item--focused': focused\n    }),\n    style: __assign({\n      paddingLeft: DEFAULT_PADDING + ICON_SIZE * (hasNodes ? 0 : 1) + level * LEVEL_SPACE + \"rem\"\n    }, style),\n    role: \"button\",\n    \"aria-pressed\": active,\n    onClick: onClick\n  }, hasNodes && React.createElement(\"div\", {\n    className: \"rstm-toggle-icon\",\n    onClick: function onClick(e) {\n      hasNodes && toggleNode && toggleNode();\n      e.stopPropagation();\n    }\n  }, React.createElement(ToggleIcon, {\n    on: isOpen,\n    openedIcon: openedIcon,\n    closedIcon: closedIcon\n  })), label);\n};\nvar defaultChildren = function defaultChildren(_a) {\n  var search = _a.search,\n      items = _a.items;\n\n  var onSearch = function onSearch(e) {\n    var value = e.target.value;\n    search && search(value);\n  };\n\n  return React.createElement(React.Fragment, null, search && React.createElement(\"input\", {\n    className: \"rstm-search\",\n    \"aria-label\": \"Type and search\",\n    type: \"search\",\n    placeholder: \"Type and search\",\n    onChange: onSearch\n  }), React.createElement(\"ul\", {\n    className: \"rstm-tree-item-group\"\n  }, items.map(function (_a) {\n    var key = _a.key,\n        props = __rest(_a, [\"key\"]);\n\n    return React.createElement(ItemComponent, __assign({\n      key: key\n    }, props));\n  })));\n};\n\nvar KeyDown = function KeyDown(_a) {\n  var children = _a.children,\n      up = _a.up,\n      down = _a.down,\n      left = _a.left,\n      right = _a.right,\n      enter = _a.enter;\n  return React.createElement(\"div\", {\n    tabIndex: 0,\n    onKeyDown: function onKeyDown(e) {\n      switch (e.key) {\n        case 'ArrowUp':\n          {\n            up();\n            break;\n          }\n\n        case 'ArrowDown':\n          {\n            down();\n            break;\n          }\n\n        case 'ArrowLeft':\n          {\n            left();\n            break;\n          }\n\n        case 'ArrowRight':\n          {\n            right();\n            break;\n          }\n\n        case 'Enter':\n          {\n            enter();\n            break;\n          }\n      }\n    }\n  }, children);\n};\n\nvar defaultOnClick = function defaultOnClick(props) {\n  return console.log(props);\n}; // eslint-disable-line no-console\n\n\nvar TreeMenu =\n/** @class */\nfunction (_super) {\n  __extends(TreeMenu, _super);\n\n  function TreeMenu() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      openNodes: _this.props.initialOpenNodes || [],\n      searchTerm: '',\n      activeKey: _this.props.initialActiveKey || '',\n      focusKey: _this.props.initialFocusKey || ''\n    };\n\n    _this.resetOpenNodes = function (newOpenNodes, activeKey, focusKey) {\n      var initialOpenNodes = _this.props.initialOpenNodes;\n      var openNodes = Array.isArray(newOpenNodes) && newOpenNodes || initialOpenNodes || [];\n\n      _this.setState({\n        openNodes: openNodes,\n        searchTerm: '',\n        activeKey: activeKey || '',\n        focusKey: focusKey || activeKey || ''\n      });\n    };\n\n    _this.search = function (value) {\n      var debounceTime = _this.props.debounceTime;\n      var search = tinyDebounce(function (searchTerm) {\n        return _this.setState({\n          searchTerm: searchTerm\n        });\n      }, debounceTime);\n      search(value);\n    };\n\n    _this.toggleNode = function (node) {\n      if (!_this.props.openNodes) {\n        var openNodes = _this.state.openNodes;\n        var newOpenNodes = openNodes.includes(node) ? openNodes.filter(function (openNode) {\n          return openNode !== node;\n        }) : __spreadArrays(openNodes, [node]);\n\n        _this.setState({\n          openNodes: newOpenNodes\n        });\n      }\n    };\n\n    _this.generateItems = function () {\n      var _a = _this.props,\n          data = _a.data,\n          onClickItem = _a.onClickItem,\n          locale = _a.locale,\n          matchSearch = _a.matchSearch;\n      var searchTerm = _this.state.searchTerm;\n      var openNodes = _this.props.openNodes || _this.state.openNodes;\n      var activeKey = _this.props.activeKey || _this.state.activeKey;\n      var focusKey = _this.props.focusKey || _this.state.focusKey;\n      var items = data ? walk$1({\n        data: data,\n        openNodes: openNodes,\n        searchTerm: searchTerm,\n        locale: locale,\n        matchSearch: matchSearch\n      }) : [];\n      return items.map(function (item) {\n        var focused = item.key === focusKey;\n        var active = item.key === activeKey;\n\n        var onClick = function onClick() {\n          var newActiveKey = _this.props.activeKey || item.key;\n\n          _this.setState({\n            activeKey: newActiveKey,\n            focusKey: newActiveKey\n          });\n\n          onClickItem && onClickItem(item);\n        };\n\n        var toggleNode = item.hasNodes ? function () {\n          return _this.toggleNode(item.key);\n        } : undefined;\n        return __assign(__assign({}, item), {\n          focused: focused,\n          active: active,\n          onClick: onClick,\n          toggleNode: toggleNode\n        });\n      });\n    };\n\n    _this.getKeyDownProps = function (items) {\n      var onClickItem = _this.props.onClickItem;\n      var _a = _this.state,\n          focusKey = _a.focusKey,\n          activeKey = _a.activeKey,\n          searchTerm = _a.searchTerm;\n      var focusIndex = items.findIndex(function (item) {\n        return item.key === (focusKey || activeKey);\n      });\n\n      var getFocusKey = function getFocusKey(item) {\n        var keyArray = item.key.split('/');\n        return keyArray.length > 1 ? keyArray.slice(0, keyArray.length - 1).join('/') : item.key;\n      };\n\n      return {\n        up: function up() {\n          _this.setState(function (_a) {\n            var focusKey = _a.focusKey;\n            return {\n              focusKey: focusIndex > 0 ? items[focusIndex - 1].key : focusKey\n            };\n          });\n        },\n        down: function down() {\n          _this.setState(function (_a) {\n            var focusKey = _a.focusKey;\n            return {\n              focusKey: focusIndex < items.length - 1 ? items[focusIndex + 1].key : focusKey\n            };\n          });\n        },\n        left: function left() {\n          var item = items[focusIndex];\n\n          if (item) {\n            _this.setState(function (_a) {\n              var openNodes = _a.openNodes,\n                  rest = __rest(_a, [\"openNodes\"]);\n\n              var newOpenNodes = openNodes.filter(function (node) {\n                return node !== item.key;\n              });\n              return item.isOpen ? __assign(__assign({}, rest), {\n                openNodes: newOpenNodes,\n                focusKey: item.key\n              }) : __assign(__assign({}, rest), {\n                focusKey: getFocusKey(item)\n              });\n            });\n          }\n        },\n        right: function right() {\n          var _a = items[focusIndex],\n              hasNodes = _a.hasNodes,\n              key = _a.key;\n          if (hasNodes) _this.setState(function (_a) {\n            var openNodes = _a.openNodes;\n            return {\n              openNodes: __spreadArrays(openNodes, [key])\n            };\n          });\n        },\n        enter: function enter() {\n          _this.setState(function (_a) {\n            var focusKey = _a.focusKey;\n            return {\n              activeKey: focusKey\n            };\n          });\n\n          onClickItem && onClickItem(items[focusIndex]);\n        }\n      };\n    };\n\n    return _this;\n  }\n\n  TreeMenu.prototype.componentDidUpdate = function (prevProps) {\n    var _a = this.props,\n        data = _a.data,\n        initialOpenNodes = _a.initialOpenNodes,\n        resetOpenNodesOnDataUpdate = _a.resetOpenNodesOnDataUpdate;\n\n    if (prevProps.data !== data && resetOpenNodesOnDataUpdate && initialOpenNodes) {\n      this.setState({\n        openNodes: initialOpenNodes\n      });\n    }\n  };\n\n  TreeMenu.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        hasSearch = _a.hasSearch,\n        disableKeyboard = _a.disableKeyboard;\n    var searchTerm = this.state.searchTerm;\n    var search = this.search;\n    var items = this.generateItems();\n    var resetOpenNodes = this.resetOpenNodes;\n    var render = children || defaultChildren;\n    var renderProps = hasSearch ? {\n      search: search,\n      resetOpenNodes: resetOpenNodes,\n      items: items,\n      searchTerm: searchTerm\n    } : {\n      items: items,\n      resetOpenNodes: resetOpenNodes\n    };\n    return disableKeyboard ? render(renderProps) : React.createElement(KeyDown, __assign({}, this.getKeyDownProps(items)), render(renderProps));\n  };\n\n  TreeMenu.defaultProps = {\n    data: {},\n    onClickItem: defaultOnClick,\n    debounceTime: 125,\n    children: defaultChildren,\n    hasSearch: true,\n    resetOpenNodesOnDataUpdate: false,\n    disableKeyboard: false\n  };\n  return TreeMenu;\n}(React.Component);\n\nexport default TreeMenu;\nexport { ItemComponent, KeyDown, defaultChildren };\n"]},"metadata":{},"sourceType":"module"}